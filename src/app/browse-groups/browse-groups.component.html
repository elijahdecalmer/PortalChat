<div class="bg-gray-700 min-h-screen p-6">
  <h2 class="text-2xl font-bold text-white mb-4">Browse Groups</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      *ngFor="let group of groups"
      class="bg-gray-800 rounded-lg p-4 shadow-md"
    >
      <h3 class="text-xl font-semibold text-white">{{ group.name }}</h3>
      <p class="text-gray-400">Users: {{ group?.members?.length }}</p>
      <p class="text-gray-400">
        Channels:
        <span *ngFor="let channel of group.channels; let last = last">
          {{ channel.name }}<span *ngIf="!last">, </span>
        </span>
      </p>
      <button
        [disabled]="isAccessRequested(group) || isMember(group)"
        (click)="requestAccess(group)"
        class="bg-blue-500 text-white rounded-md px-4 py-2 mt-4 hover:bg-blue-600 w-full"
      >
        {{
          isMember(group)
            ? "Currently a member"
            : isAccessRequested(group)
            ? "Access requested..."
            : "Request Access"
        }}
      </button>
    </div>

    <div
      *ngIf="
        !isGroupAdmin && !isSuperAdmin && !isRequestingGroupAdminPrivileges
      "
      class="bg-gray-800 rounded-lg p-4 shadow-md flex items-center justify-center"
    >
      <button
        (click)="requestGroupAdminPrivileges()"
        class="bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-600 w-full"
      >
        Request access to be a Group Admin to create groups
      </button>
    </div>

    <div
      *ngIf="!isGroupAdmin && isRequestingGroupAdminPrivileges"
      class="bg-gray-800 rounded-lg p-4 shadow-md flex items-center justify-center"
    >
      <button
        class="bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-600 w-full"
      >
        Request for Group Admin Privileges is pending...
      </button>
    </div>

    <div
      *ngIf="isGroupAdmin || isSuperAdmin"
      class="bg-gray-800 rounded-lg p-4 shadow-md flex items-center justify-center"
    >
      <button
        (click)="createGroup()"
        class="bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-600 w-full"
      >
        Create New Group
      </button>
    </div>
  </div>
</div>
